


  {
  
  
    "properties" : {},
  
  "type" : "lab",
  "title" : "Lab-11c",
  "img" : "img/main.png",
  "videoid" : "none",
  "objectives" : "<p>PongGame V6.0 路 PongGame V7.0 路 PongGameV8.0</p>",
  "folder" : "book-v6-v7-v8",
  "link" : "index.html",
  "los": [
   ]
,
  "chapters" : [
  
    {
    "title": "#Objectives",
    "shortTitle": "Lab-11c",
    "contentMd" : "#Objectives\r\n\r\nPongGame V6.0 路 PongGame V7.0 路 PongGameV8.0\r\n"
    },
  
    {
    "title": "#Game of Pong - V6.0",
    "shortTitle": "V6",
    "contentMd" : "#Game of Pong - V6.0\r\n\r\nOn completion of this lab you will have introduced an array of Players and build simple data analysis algorithms based on the stored data.  In this lab, you will work on PongGameV6.0, PongGame7.0 and PongGameV8.0.\r\n\r\nIn Version 6 of the game, we introduce a new Player class. For this version, the Player class will have limited functionality. \r\n    \r\nOpen your latest version of PongGame version 5. If you want, you can use this solution [here](archives/PongGameV5_0.zip). \r\n\r\nSave this as PongGameV6.0. Now, make the changes listed below. \r\n\r\n\r\n##Player class description\r\n\r\nWe will create a *Player* who plays a game.  This class will store details about the player:\r\n\r\n- the player's name \r\n\r\n- the number of games they wish to play for the current tournament\r\n\r\n- a collection (array) of the scores of each of the games in the current tournament\r\n\r\n- the number of scores added (games played) at this time.\r\n\r\n\r\nWe need to have getters and setters for these fields.\r\n\r\nWe need a method that adds a value to the scores array. \r\n\r\nWe also have a toString() method that returns a String version of the object. This is useful when we want to print details of a player object.\r\n\r\n\r\n##Developing the Player class \r\n\r\nCreate a new tab called *Player* and add the following code in your sketch (don't cut and paste it, type it in):\r\n\r\n~~~java\r\npublic class Player\r\n{\r\n  private String playerName;\r\n  private int[] scores;\r\n  //no accessor and mutator is created for the count field as it is an internal field that \r\n  //has a dual purpose:\r\n  //   1. represents the next available index in the array \r\n  //   2. represents the number of high scores added to the array\r\n  private int count;\r\n  \r\n  //Constructor to create a player with a starting name and sets the size of the array\r\n  //to the number of games in the tournament, as entered by the player.\r\n  public Player(String playerName, int numberOfGames)\r\n  {\r\n     this.playerName = playerName.trim().substring(0,6);\r\n     scores = new int[numberOfGames];\r\n     count = 0;\r\n  }\r\n   //accessors\r\n  public String getPlayerName()\r\n  {\r\n    return playerName;\r\n  }\r\n\r\n  public int[] getscores()\r\n  {\r\n    return scores;\r\n  }\r\n  \r\n  //mutator for player name\r\n  public void setPlayerName(String playerName)\r\n  {\r\n     this.playerName = playerName.substring(0,6);  \r\n  }\r\n  \r\n  //mutator for high score array\r\n  public void setscores(int[] scores)\r\n  {\r\n     this.scores = scores;\r\n  }\r\n   \r\n  //method to add a score at the next available location in the scores array   \r\n  public void addScore(int score)\r\n  {\r\n      if (score >= 0){\r\n         scores[count] = score;\r\n         count++;\r\n      }\r\n  } \r\n  \r\n  //method builds a nice String representation of the player name and their high scores.\r\n  //This string is then returned\r\n  public String toString()\r\n  {\r\n     String str = \"Scores for \" + playerName + \"\\n\";\r\n     \r\n     for(int i = 0; i < count; i++){\r\n        str = str + \"     Score \" + (i+1) + \": \" + scores[i] + \"\\n\"; \r\n     }   \r\n     return str;  \r\n  }\r\n\r\n}\r\n~~~\r\n\r\nEnsure that you understand the code you have written in. For example:\r\n\r\n- What validation rule is imposed on the player's name?\r\n\r\n- How does the toString() work? Why do we need a loop?\r\n\r\n- What is the purpose of the count data field in the addScore() method and overall?\r\n    \r\n  \r\n\r\n##Changes in the PongGame class\r\n\r\nFirstly, we need to declare a Player in the class (just under the declaration of the Ball and Paddle objects:\r\n\r\n~~~java\r\nPlayer player;\r\n~~~\r\n\r\nThen we need to add in the following line of code to the setup method to construct the player. \r\n\r\n~~~java\r\nvoid setup()\r\n{\r\n  :\r\n  :\r\n   //create a player object \r\n   player = new Player(\"  PongMaster  \", maxNumberOfGames);\r\n}\r\n~~~\r\n\r\nThe effect of these two pieces of code is that a Player object, called player setup and ready to be used and to play. \r\n\r\nSo, when do we add the scores to the scores array? We do this when we have lost all our lives, thus finished the game. So look for the part of the code in the draw() method that deals with when the player has no more lives left in the current game. To do this, you need to add the following line of code:\r\n\r\n~~~java\r\nplayer.addScore(score); \r\n~~~\r\n\r\nso that the full part of if..else statement is \r\n\r\n~~~\r\n //If the player has no lives left in the current game\r\n   else{\r\n      player.addScore(score);   //add the score of the current game to the array in player\r\n      numberOfGamesPlayed++;        \r\n      //If the player has more games left in the tournament, \r\n      //display their score and ask them if they want to continue with the tournament.\r\n      if (numberOfGamesPlayed < maxNumberOfGames){\r\n         resetGame();\r\n      }\r\n~~~\r\n\r\nNow that we have information stored about the player and their scores for the games, we will use this information at the end of the tournament. Specifically, we will print out the player's details using the toString() method using the following code, so change the tournamentOver() code to:\r\n\r\n~~~\r\n//method displays the player information, high scores and statistics, before exiting the program.\r\nvoid tournamentOver()\r\n{\r\n   println(\"Game Over!\\n\");\r\n   println(player.getPlayerName() + \", your tournament is over!\\n\"\r\n                                  + \"Number of games played: \" + numberOfGamesPlayed\r\n                                  + \"\\n\\n\"                     + player.toString());\r\n   exit();          \r\n}\r\n~~~\r\n\r\nYou should be able to now play the game and get the information reported at the end of the tournament. The information will be sent to the console. Later we will redirect this information to the dialog boxes via JOptionPane. \r\n\r\nSave your work.\r\n\r\nMake sure you understand the code before moving onto PongGameV7_0.\r\n\r\n\r\n##Solution\r\n\r\nIf your code is not working, the solution can be found [here](archives/PongGameV6_0.zip). \r\n\r\n"
    },
  
    {
    "title": "#Game of Pong - V7.0",
    "shortTitle": "V7",
    "contentMd" : "#Game of Pong - V7.0\r\n\r\nIn this version of the game, we add methods that calculate the highest and lowest score in the player's score array as well as calculating the average score over all the scores.\r\n\r\nOpen your latest version of PongGame Version 7. If you are not confident that it is working, you can use this solution [here](archives/PongGameV7_0.zip). \r\n\r\nSave this as PongGameV8_0. Now, make changes to this work. \r\n\r\n\r\n##Player Class\r\n\r\nWe will now add three methods to the Player class:\r\n\r\n- lowestScore()\r\n\r\n- highestScore()\r\n\r\n- averageScore()\r\n    \r\n   \r\n~~~java\r\n  //method returns the highest score stored in the scores array   \r\n  //if there is only one element in the scores array, this value is \r\n  //returned as the highest\r\n  public int highestScore()\r\n  {\r\n     int highestScore = scores[0];\r\n     for(int i = 1; i < count; i++){\r\n         if (scores[i] > highestScore){\r\n            highestScore = scores[i];\r\n         }        \r\n     }   \r\n     return highestScore;\r\n  }\r\n\r\n  //method returns the lowest score stored in the scores array   \r\n  //if there is only one element in the scores array, this value \r\n  //is returned as the lowest\r\n  public int lowestScore()\r\n  {\r\n     int lowestScore = scores[0] ;\r\n     for(int i = 1; i < count; i++){\r\n         if (scores[i] < lowestScore){\r\n            lowestScore = scores[i];\r\n         }        \r\n     }   \r\n     return lowestScore;\r\n  }\r\n\r\n  //method calculates and returns the average of all the high \r\n  //scores stored in the scores array   \r\n  public int averageScore()\r\n  {\r\n     int total = 0;\r\n     for(int i = 0; i < count; i++){\r\n        total = total +  scores[i];        \r\n     }   \r\n     return total / count;\r\n  }\r\n  \r\n~~~\r\n\r\nEnsure that you understand the code you have written in. For example:\r\n\r\n- What is the function of the variable highestScore in the highestScore() method?\r\n\r\n- Why is the variable highestScore local? \r\n\r\n- Is this appropriate?    \r\n\r\n\r\n##Changes in the PongGame class\r\n\r\nWe don't make any changes to how the game works in this version update. We only give out more information about what happened during the game. \r\n\r\nSo we simply change the tournamentOver() method to report on the three new values that our new methods calculate. So our updated tournamentOver() method will now be:\r\n\r\n~~~java\r\n//method displays the player information, high scores and \r\n//statistics, before exiting the program.\r\nvoid tournamentOver()\r\n{\r\n   println(\"Game Over!\\n\");\r\n   println(player.getPlayerName() + \", your tournament is over!\\n\"\r\n                                  + \"Number of games played: \" + numberOfGamesPlayed\r\n                                  + \"\\n\\n\"                     + player.toString()\r\n                                  + \"\\n\\nHighest Score: \"      + player.highestScore()\r\n                                  +   \"\\nLowest Score:  \"      + player.lowestScore()\r\n                                  +   \"\\nAverage Score: \"      + player.averageScore());\r\n   exit();          \r\n}\r\n~~~\r\n\r\nYou should be able to now play the game and get the extra information reported at the end of the tournament. The information will be sent to the console. Next we will redirect this information to the dialog boxes via JOptionPane. \r\n\r\nSave your work.\r\n\r\nMake sure you understand the code before moving onto PongGameV8_0.\r\n\r\n\r\n##Solution\r\n\r\nIf your code is not working, the solution can be found [here](archives/PongGameV7_0.zip).\r\n\r\n"
    },
  
    {
    "title": "#Game of Pong - V8.0",
    "shortTitle": "V8",
    "contentMd" : "#Game of Pong - V8.0\r\n\r\nIn this version of the game, we add the JOptionPane methods that allow us to read data in from the keyboard and to send data out via dialog boxes. \r\n\r\nBecause we can now use user input, we use this in two places:\r\n\r\n- setting up the player (name, number of games)\r\n\r\n- we give the user the option to quit the game after every game is finished.\r\n\r\n\r\nOpen your latest version of PongGame version 7. If you wish, you can use this solution [here](archives/PongGameV7_0.zip). \r\n\r\nSave this as PongGameV8_0. Now, make changes to this work. \r\n\r\n\r\n##PongGame class - changes\r\n\r\nFirstly note that we will only use the main tab (in this case PongGameV8_0) to read in data or report data. PongGameV8_0 then decides how data comes in/goes out (e.g. console or JOptionPane).  Taking this approach, Ball and Paddle should never 'talk to the user'. \r\n\r\nSo, the only changes in this version update is in the PongGame class.\r\n\r\nIn the main tab, we firstly import the swing package as the first line of code.\r\n\r\n~~~java\r\nimport javax.swing.*;\r\n~~~\r\n\r\n\r\n##Changes in setup() method  \r\n\r\nChange the setup method so that it is:    \r\n\r\n~~~java\r\nvoid setup()\r\n{\r\n   size(600,600);\r\n   noCursor();\r\n   \r\n   //setting up the paddle and the ball with hard-coded sizes.\r\n   //This could be updated so that the values are read from the user at the start of the tournament.\r\n   paddle = new Paddle(20,100);\r\n   ball = new Ball(20.0);\r\n   \r\n   //create a player object with the data entered by the user \r\n   maxNumberOfGames = Integer.parseInt(JOptionPane.showInputDialog(\"Welcome to the Pong Tournament\\n\\n Please enter the number of games you would like to play: \",\"3\"));\r\n   player = new Player(JOptionPane.showInputDialog(\"Enter the player name (max 6 chars: \"), maxNumberOfGames);\r\n}\r\n  \r\n~~~\r\n\r\nEnsure that you understand the code you have written in. For example:\r\n\r\n- The first use of the showInputDialog method returns a string which is then converted to an integer using Integer.parseInt\r\n\r\n- The second use of showInputDialog calls the method and uses the value returned directly in the Player constructor. So if \"Siobhan\" were entered in the dialog box, this would be the same as using \r\n\r\n~~~java\r\nplayer = new Player(\"Siobhan\", maxNumberOfGames);\r\n~~~\r\n\r\nNow run this code: You will get the following dialog boxes: \r\n\r\n![Entering number of games](./img/01.png)\r\n\r\nThen you will get the following:\r\n\r\n![Entering player name](./img/02.png)\r\n    \r\n\r\n##Changes in the draw() class - game functionality\r\n\r\nWe will add extra functionality to the game...when a player has finished a game s/he is asked do they wish to continue (only if there are still games left):\r\n\r\nAmend your code so that it is:\r\n\r\n~~~java\r\n  //If the player has no lives left in the current game\r\n   else{\r\n      player.addScore(score);\r\n      numberOfGamesPlayed++;        \r\n      //If the player has more games left in the tournament, \r\n      //display their score and ask them if they want to continue with the tournament.\r\n      if (numberOfGamesPlayed < maxNumberOfGames){\r\n         int reply = JOptionPane.showConfirmDialog(null,\r\n            \"Game Over! You scored \" + score + \".\\nWould you like to play the next game in your tournament?\",\r\n            \"Play next game?\",\r\n            JOptionPane.YES_NO_OPTION);\r\n         if (reply == JOptionPane.YES_OPTION){\r\n            //player chooses to play the next game in their tournament.\r\n            resetGame();\r\n         }\r\n         else{\r\n            //player chooses to leave the tournament early.\r\n            tournamentOver();\r\n         }\r\n      }\r\n      else{\r\n         //the player has no more games left in the tournament \r\n         tournamentOver();\r\n      }\r\n   }\r\n~~~\r\n\r\nEnsure that you understand the code.\r\n\r\nNow play a tournament. When you finish any game you are given the option to quit the tournament:\r\n\r\n![Do you wish to continue? option](./img/03.png)\r\n\r\n\r\n##Changes to the tournamentOver() method - reporting results\r\n\r\nCurrently, we output to the console.  We are going to change this so that our output is via a dialog box.\r\n\r\nChange the tournamentOver() method code to be:\r\n\r\n~~~java\r\n//method displays the player information, high scores and statistics, before exiting the program.\r\nvoid tournamentOver()\r\n{\r\n   JOptionPane.showMessageDialog(null, player.getPlayerName() + \", your tournament is over! \\n\\n\"  \r\n                                 + \"Number of games played: \" + numberOfGamesPlayed\r\n                                 + \"\\n\\n\"                     + player.toString()\r\n                                 + \"\\n\\nHighest Score: \"      + player.highestScore()\r\n                                 +   \"\\nLowest Score:  \"      + player.lowestScore()\r\n                                 +   \"\\nAverage Score: \"      + player.averageScore());\r\n   exit();            \r\n}\r\n~~~\r\n\r\nNote that you are not changing any of the data being displayed, just their method of display.\r\n\r\nNow when you play the tournament, you should get results in the format below:\r\n\r\n![Results of a tournament](./img/04.png)\r\n\r\nSave your work.\r\n\r\nMake sure you understand the code before moving onto PongGameV9_0.\r\n\r\n\r\n##Solution\r\n\r\nIf your code is not working, the solution can be found [here](archives/PongGameV8_0.zip). \r\n\r\n"
    }
  
  ]
  }

